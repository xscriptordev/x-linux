# Maintainer: Xscriptor <dev@xscriptor.com>
pkgname=xos-release
pkgver=1.0
pkgrel=1
pkgdesc="XOs Linux identity and branding files"
arch=('any')
url="https://dev.xscriptor.com/xos"
license=('MIT')
backup=('etc/os-release' 'etc/default/grub')
install=xos-release.install
# No dependencies - this is a base package

package() {
    # /etc/os-release - System identity
    install -Dm644 /dev/stdin "$pkgdir/etc/os-release" <<'EOF'
NAME="X"
PRETTY_NAME="X"
ID=xos
ID_LIKE=arch
BUILD_ID=rolling
ANSI_COLOR="0;36"
HOME_URL="https://dev.xscriptor.com/xos"
DOCUMENTATION_URL="https://dev.xscriptor.com/xos/docs"
SUPPORT_URL="https://dev.xscriptor.com/xos/support"
BUG_REPORT_URL="https://github.com/xscriptordev/xos"
LOGO=xos
EOF

    # /etc/default/grub - GRUB configuration with X branding
    install -Dm644 /dev/stdin "$pkgdir/etc/default/grub" <<'EOF'
# GRUB boot loader configuration - XOs
GRUB_DEFAULT=0
GRUB_TIMEOUT=5
GRUB_DISTRIBUTOR="X"
GRUB_CMDLINE_LINUX_DEFAULT="loglevel=3 quiet"
GRUB_CMDLINE_LINUX=""
GRUB_PRELOAD_MODULES="part_gpt part_msdos"
GRUB_TIMEOUT_STYLE=menu
GRUB_TERMINAL_INPUT=console
GRUB_GFXMODE=auto
GRUB_GFXPAYLOAD_LINUX=keep
GRUB_DISABLE_RECOVERY=true
EOF

    # /usr/lib/os-release symlink (standard location)
    install -d "$pkgdir/usr/lib"
    ln -sf /etc/os-release "$pkgdir/usr/lib/os-release"
}
